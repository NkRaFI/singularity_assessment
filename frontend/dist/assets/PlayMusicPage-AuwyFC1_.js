import{r as reactExports,g as getDefaultExportFromCjs,G as GenIcon,j as jsxRuntimeExports,L as Link,c as useParams,d as useGetMusicQuery,S as ShimmerCard}from"./index-py3CmX_c.js";var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=e,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var e=requireReactPropTypesSecret();function r(){}function o(){}return o.resetWarningCache=r,factoryWithThrowingShims=function(){function t(i,s,u,p,c,l){if(l!==e){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}t.isRequired=t;function n(){return t}var a={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:r};return a.PropTypes=a,a},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var bundle=function(e){var r={};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=r,o.d=function(t,n,a){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},o.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n||4&n&&typeof t=="object"&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&typeof t!="string")for(var i in t)o.d(a,i,(function(s){return t[s]}).bind(null,i));return a},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=2)}([function(e,r){e.exports=requirePropTypes()},function(e,r){e.exports=reactExports},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),enterModule;function _typeof(e){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e}).apply(this,arguments)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,o){return r&&_defineProperties(e.prototype,r),o&&_defineProperties(e,o),e}function _inherits(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_setPrototypeOf(e,r)}function _setPrototypeOf(e,r){return(_setPrototypeOf=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o})(e,r)}function _createSuper(e){return function(){var r,o=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var t=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,t)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,r){return!r||_typeof(r)!=="object"&&typeof r!="function"?_assertThisInitialized(e):r}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(e)}function _defineProperty(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}enterModule=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module),typeof reactHotLoaderGlobal<"u"&&reactHotLoaderGlobal.default.signature;var ReactAudioPlayer=function(_Component){_inherits(ReactAudioPlayer,_Component);var _super=_createSuper(ReactAudioPlayer);function ReactAudioPlayer(){var e;_classCallCheck(this,ReactAudioPlayer);for(var r=arguments.length,o=new Array(r),t=0;t<r;t++)o[t]=arguments[t];return _defineProperty(_assertThisInitialized(e=_super.call.apply(_super,[this].concat(o))),"audioEl",react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef()),_defineProperty(_assertThisInitialized(e),"listenTracker",void 0),_defineProperty(_assertThisInitialized(e),"onError",function(n){var a,i;return(a=(i=e.props).onError)===null||a===void 0?void 0:a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onCanPlay",function(n){var a,i;return(a=(i=e.props).onCanPlay)===null||a===void 0?void 0:a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onCanPlayThrough",function(n){var a,i;return(a=(i=e.props).onCanPlayThrough)===null||a===void 0?void 0:a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onPlay",function(n){var a,i;e.setListenTrack(),(a=(i=e.props).onPlay)===null||a===void 0||a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onAbort",function(n){var a,i;e.clearListenTrack(),(a=(i=e.props).onAbort)===null||a===void 0||a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onEnded",function(n){var a,i;e.clearListenTrack(),(a=(i=e.props).onEnded)===null||a===void 0||a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onPause",function(n){var a,i;e.clearListenTrack(),(a=(i=e.props).onPause)===null||a===void 0||a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onSeeked",function(n){var a,i;(a=(i=e.props).onSeeked)===null||a===void 0||a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onLoadedMetadata",function(n){var a,i;(a=(i=e.props).onLoadedMetadata)===null||a===void 0||a.call(i,n)}),_defineProperty(_assertThisInitialized(e),"onVolumeChanged",function(n){var a,i;(a=(i=e.props).onVolumeChanged)===null||a===void 0||a.call(i,n)}),e}return _createClass(ReactAudioPlayer,[{key:"componentDidMount",value:function(){var e=this.audioEl.current;e&&(this.updateVolume(this.props.volume),e.addEventListener("error",this.onError),e.addEventListener("canplay",this.onCanPlay),e.addEventListener("canplaythrough",this.onCanPlayThrough),e.addEventListener("play",this.onPlay),e.addEventListener("abort",this.onAbort),e.addEventListener("ended",this.onEnded),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeeked),e.addEventListener("loadedmetadata",this.onLoadedMetadata),e.addEventListener("volumechange",this.onVolumeChanged))}},{key:"componentWillUnmount",value:function(){var e=this.audioEl.current;e&&(e.removeEventListener("error",this.onError),e.removeEventListener("canplay",this.onCanPlay),e.removeEventListener("canplaythrough",this.onCanPlayThrough),e.removeEventListener("play",this.onPlay),e.removeEventListener("abort",this.onAbort),e.removeEventListener("ended",this.onEnded),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeeked),e.removeEventListener("loadedmetadata",this.onLoadedMetadata),e.removeEventListener("volumechange",this.onVolumeChanged))}},{key:"componentDidUpdate",value:function(e){this.updateVolume(this.props.volume)}},{key:"setListenTrack",value:function(){var e=this;if(!this.listenTracker){var r=this.props.listenInterval;this.listenTracker=window.setInterval(function(){var o,t;e.audioEl.current&&((o=(t=e.props).onListen)===null||o===void 0||o.call(t,e.audioEl.current.currentTime))},r)}}},{key:"updateVolume",value:function(e){var r=this.audioEl.current;r!==null&&typeof e=="number"&&e!==(r==null?void 0:r.volume)&&(r.volume=e)}},{key:"clearListenTrack",value:function(){this.listenTracker&&(clearInterval(this.listenTracker),delete this.listenTracker)}},{key:"render",value:function(){var e=this.props.children||react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Your browser does not support the ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("code",null,"audio")," element."),r=this.props.controls!==!1,o=this.props.title?this.props.title:this.props.src,t={};return this.props.controlsList&&(t.controlsList=this.props.controlsList),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("audio",_extends({autoPlay:this.props.autoPlay,className:"react-audio-player ".concat(this.props.className),controls:r,crossOrigin:this.props.crossOrigin,id:this.props.id,loop:this.props.loop,muted:this.props.muted,preload:this.props.preload,ref:this.audioEl,src:this.props.src,style:this.props.style,title:o},t),e)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ReactAudioPlayer}(react__WEBPACK_IMPORTED_MODULE_0__.Component);_defineProperty(ReactAudioPlayer,"propTypes",void 0),_defineProperty(ReactAudioPlayer,"defaultProps",void 0),ReactAudioPlayer.defaultProps={autoPlay:!1,children:null,className:"",controls:!1,controlsList:"",id:"",listenInterval:1e4,loop:!1,muted:!1,onAbort:function(){},onCanPlay:function(){},onCanPlayThrough:function(){},onEnded:function(){},onError:function(){},onListen:function(){},onPause:function(){},onPlay:function(){},onSeeked:function(){},onVolumeChanged:function(){},onLoadedMetadata:function(){},preload:"metadata",style:{},title:"",volume:1},ReactAudioPlayer.propTypes={autoPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,controls:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,controlsList:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,crossOrigin:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,id:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,listenInterval:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,loop:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,muted:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,onAbort:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onCanPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onCanPlayThrough:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onEnded:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onError:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onListen:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onLoadedMetadata:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onPause:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onSeeked:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onVolumeChanged:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,preload:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(["","none","metadata","auto"]),src:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string),title:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,volume:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number};var _default=ReactAudioPlayer,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ReactAudioPlayer,"ReactAudioPlayer","/home/justin/Projects/react-audio-player/src/index.tsx"),reactHotLoader.register(_default,"default","/home/justin/Projects/react-audio-player/src/index.tsx")),leaveModule=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(3)(module))},function(e,r){e.exports=function(o){if(!o.webpackPolyfill){var t=Object.create(o);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}]);const ReactAudioPlayer=getDefaultExportFromCjs(bundle);function FaCircleArrowLeft(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 256A256 256 0 1 0 0 256a256 256 0 1 0 512 0zM231 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L376 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-182.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L119 273c-9.4-9.4-9.4-24.6 0-33.9L231 127z"}}]})(e)}const PlayMusicCard=({music:e})=>{var r,o,t;return jsxRuntimeExports.jsxs("div",{className:"d-grid gap-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"position-relative placeholder-wave",children:[jsxRuntimeExports.jsx("img",{src:(r=e==null?void 0:e.data)==null?void 0:r.cover_image,style:{height:"300px",objectFit:"cover",objectPosition:"top"},className:"w-100 rounded",alt:""}),jsxRuntimeExports.jsx("div",{className:"position-absolute top-0 start-0 ps-2 pt-2",children:jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsx(FaCircleArrowLeft,{className:"fs-2 border text-danger bg-white rounded-circle",style:{opacity:"1"}})})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 p-1",children:[jsxRuntimeExports.jsx("p",{className:"fs-3 fw-bold m-0",children:e==null?void 0:e.data.title}),jsxRuntimeExports.jsxs("p",{className:"m-0 text-secondary fs-5 fw-semibold",children:["By: ",(o=e==null?void 0:e.data)==null?void 0:o.artist]})]})]}),jsxRuntimeExports.jsx(ReactAudioPlayer,{src:(t=e==null?void 0:e.data)==null?void 0:t.url,autoPlay:!0,controls:!0,className:"audio-player"})]})},PlayMusicPage=()=>{const{id:e}=useParams(),r=reactExports.useRef(),{data:o,isFetching:t}=useGetMusicQuery(e);return reactExports.useEffect(()=>{const n=r.current;n.scrollTop=n.scrollHeight},[o]),jsxRuntimeExports.jsx("div",{ref:r,className:"container py-2",children:jsxRuntimeExports.jsx("div",{className:"row",children:jsxRuntimeExports.jsxs("div",{className:"col-12 col-md-4 offset-md-4 d-flex flex-column gap-4",children:[t&&jsxRuntimeExports.jsx(ShimmerCard,{height:"300px"}),jsxRuntimeExports.jsx(PlayMusicCard,{music:o})]})})})};export{PlayMusicPage as default};
